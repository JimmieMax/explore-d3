<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">
    <title>explore d3</title>
</head>
<style>
    a {
        color: black;
    }

    a:not(:hover) {
        text-decoration: none;
    }

    pre {
        margin: 20px 10px;
        display: block;
        background: #E0E0E0;
        padding: 20px;
        border-left: 4px solid #808080;
        overflow: auto;
    }
</style>

<body>
    <header>
        <img width="100%" src="../store/img/banner-d3.jpg" alt="">
    </header>
    <section id="selections">
        <h2>
            <a class="title" href="#selections">#Selections</a>
        </h2>
        <figure>
            <p>Hello D3!</p>
            <p>Hello world!</p>
        </figure>
        <pre>d3.select("#selections").selectAll("p")
            .style("color", "orange");</pre>
    </section>
    <section id="properties">
        <h2>
            <a class="title" href="#properties">#Dynamic Properties</a>
        </h2>
        <figure>
            <p>Hello D3!</p>
            <p>Hello world!</p>
            <p>Hello D3!</p>
            <p>Hello world!</p>
        </figure>
        <pre>d3.select("#selections").select("figure")
            .selectAll("p")
            .style("background-color", (d, i) =>i % 2 ? "#fff" : "#eee");
        </pre>
    </section>
    <section id="enter-exit">
        <h2>
            <a class="title" href="#enter-exit">#Enter and Exit</a>
        </h2>
        <figure>
            <div class="enter-box">
                <p>Hello D3!</p>
                <p>Hello world!</p>
                <p>Hello D3!</p>
                <p>
                    Hello world!
                </p>
            </div>
            <div class="exit-box">
                <span>1</span>
                <span>2</span>
                <span>3</span>
                <span>4</span>
            </div>
        </figure>
        <pre>// Enter
                d3.select("#enter-exit").select("figure")
                    .select(".enter-box")
                    .selectAll("p")
                    .data([4, 8, 15, 16, 23])
                    .enter().append("p")
                    .text(d => "I’m append number " + d + "!");
                //Exit
                d3.select("#enter-exit").select("figure")
                    .select("exit-box")
                    .selectAll("span")
                    .data(['a', 'b', 'c'])
                    .attr("title", d => "I’m " + d)
                    .exit().remove();</pre>
    </section>
    <section id="transitions">
        <h2>
            <a class="title" href="#transitions">#Transitions</a>
        </h2>
        <figure>
            <p>Hello D3!</p>
            <p>Hello world!</p>
        </figure>
        <pre>d3.select("#transitions").select("figure")
                .transition()
                .duration(2000)
                .delay(1000)
                .style("background-color", "black");</pre>
    </section>
    <section id="simple-chart">
        <h2>
            <a class="title" href="#simple-chart">#Simple Chart</a>
        </h2>
        <figure>
        </figure>
        <pre>const rectHeight = 25
            d3.select("#simple-chart").select("figure")
                .append("svg")
                .attr("width", "100%")
                .attr("height", 120)
                .selectAll("rect")
                .data([250, 210, 170, 130, 90])
                .enter()
                .append("rect")
                .attr("x", 20)
                .attr("y", (d, i) => i * rectHeight)
                .attr("width", d => d)
                .attr("height", rectHeight - 2)
                .attr("fill", "orange");</pre>
    </section>
    <section id="scale">
        <h2>
            <a class="title" href="#scale">#Scale</a>
        </h2>
        <figure>
        </figure>
        <pre>const dataset = [1.2, 2.3, 0.9, 1.5, 3.3]
            , rectHeight = 25
            , linear = d3.scaleLinear()
                .domain([0, d3.max(dataset)])
                .range([0, 300]);
        d3.select("#scale").select("figure")
            .append("svg")
            .attr("width", "100%")
            .attr("height", 120)
            .selectAll("rect")
            .data(dataset)
            .enter()
            .append("rect")
            .attr("x", 20)
            .attr("y", (d, i) => i * rectHeight)
            .attr("width", d => linear(d))
            .attr("height", rectHeight - 2)
            .attr("fill", "orange");</pre>
    </section>
    <section id="axis">
        <h2>
            <a class="title" href="#axis">#Axis</a>
        </h2>
        <figure>
        </figure>
        <pre>const dataset = [2.5, 2.1, 1.7, 1.3, 0.9]
            , rectHeight = 25
            , linear = d3.scaleLinear()
                .domain([0, d3.max(dataset)])
                .range([0, 300])
            , axis = d3.axisBottom(linear)
                .ticks(5)
            , svg = d3.select("#axis").select("figure")
                .append("svg")
                .attr("width", "100%")
                .attr("height", 200);
        // append bar
        svg.selectAll("rect")
            .data(dataset)
            .enter()
            .append("rect")
            .attr("x", 20)
            .attr("y", (d, i) => i * rectHeight + 20)
            .attr("width", d => linear(d))
            .attr("height", rectHeight - 2)
            .attr("fill", "orange");
        //append axis
        svg.append("g")
            .attr("transform", "translate(20,150)")
            .call(axis);</pre>
    </section>
    <section id="bar-chart">
        <h2>
            <a class="title" href="#bar-chart">#Complete Bar Chart</a>
        </h2>
        <figure>
        </figure>
        <pre>const height = 300
            , width = "100%"
            , padding = {
                left: 30,
                right: 30,
                top: 20,
                bottom: 20
            }
            , rectPadding = 4
            , rectWidth = 25
            , dataset = [10, 20, 30, 40, 33, 24, 12, 5]
            //xScale
            , xScale = d3.scaleOrdinal()
                .domain(d3.range(dataset.length))
                .range(d3.range((rectWidth - rectPadding) / 2 + rectPadding, rectWidth * dataset.length, rectWidth * dataset.length / 8))
            //yScale
            , yScale = d3.scaleLinear()
                .domain([0, d3.max(dataset)])
                .range([height - padding.top - padding.bottom, 0])
            //xAxis
            , xAxis = d3.axisBottom(xScale)
            //yAxis
            , yAxis = d3.axisLeft(yScale)
            , svg = d3.select("#bar-chart").select("figure")
                .append("svg")
                .attr("width", width)
                .attr("height", height);
        //append rect
        svg.selectAll("rect")
            .data(dataset)
            .enter()
            .append("rect")
            .attr("transform", "translate(" + padding.left + "," + padding.top + ")")
            .attr("x", (d, i) => i * rectWidth + rectPadding)
            .attr("y", d => yScale(d))
            .attr("width", rectWidth - rectPadding)
            .attr("height", d => height - padding.top - padding.bottom - yScale(d))
            .attr("fill", "orange");
        // append text
        svg.selectAll("text")
            .data(dataset)
            .enter()
            .append("text")
            .attr("transform", "translate(" + padding.left + "," + padding.top + ")")
            .attr("x", (d, i) => i * rectWidth + rectPadding)
            .attr("y", d => yScale(d) - 2)
            .attr("text-anchor", "middle")
            .attr("dx", (rectWidth - rectPadding) / 2)
            .text(d => d);
        //append xAxis
        svg.append("g")
            .attr("transform", "translate(" + padding.left + "," + (height - padding.bottom + 2) + ")")
            .call(xAxis);
        //append yAxis
        svg.append("g")
            .attr("transform", "translate(" + padding.left + "," + padding.top + ")")
            .call(yAxis);</pre>
    </section>
    <script src="../dist/index.bundle.js"></script>
</body>

</html>