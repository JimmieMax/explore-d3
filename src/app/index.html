<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">
    <title>explore d3</title>
</head>
<style>
    a {
        color: black;
    }

    a:not(:hover) {
        text-decoration: none;
    }

    pre {
        margin: 20px 10px;
        display: block;
        background: #E0E0E0;
        padding: 20px;
        border-left: 4px solid #808080;
    }
</style>

<body>
    <section id="selections">
        <h2>
            <a class="title" href="#selections">#Selections</a>
        </h2>
        <figure>
            <p>Hello D3!</p>
            <p>Hello world!</p>
        </figure>
        <pre>d3.select("#selections").selectAll("p")
            .style("color", "orange");</pre>
    </section>
    <section id="properties">
        <h2>
            <a class="title" href="#properties">#Dynamic Properties</a>
        </h2>
        <figure>
            <p>Hello D3!</p>
            <p>Hello world!</p>
            <p>Hello D3!</p>
            <p>Hello world!</p>
        </figure>
        <pre>d3.select("#selections").select("figure")
            .selectAll("p")
            .style("background-color", (d, i) =>i % 2 ? "#fff" : "#eee");
        </pre>
    </section>
    <section id="enter-exit">
        <h2>
            <a class="title" href="#enter-exit">#Enter and Exit</a>
        </h2>
        <figure>
            <div class="enter-box">
                <p>Hello D3!</p>
                <p>Hello world!</p>
                <p>Hello D3!</p>
                <p>
                    Hello world!
                </p>
            </div>
            <div class="exit-box">
                <span>1</span>
                <span>2</span>
                <span>3</span>
                <span>4</span>
            </div>
        </figure>
        <pre>// Enter
                d3.select("#enter-exit").select("figure")
                    .select(".enter-box")
                    .selectAll("p")
                    .data([4, 8, 15, 16, 23])
                    .enter().append("p")
                    .text(d => "I’m append number " + d + "!");
                //Exit
                d3.select("#enter-exit").select("figure")
                    .select("exit-box")
                    .selectAll("span")
                    .data(['a', 'b', 'c'])
                    .attr("title", d => "I’m " + d)
                    .exit().remove();</pre>
    </section>
    <section id="transitions">
        <h2>
            <a class="title" href="#transitions">#Transitions</a>
        </h2>
        <figure>
            <p>Hello D3!</p>
            <p>Hello world!</p>
        </figure>
        <pre>d3.select("#transitions").select("figure")
                .transition()
                .duration(2000)
                .delay(1000)
                .style("background-color", "black");</pre>
    </section>
    <section id="simple-chart">
        <h2>
            <a class="title" href="#simple-chart">#Simple Chart</a>
        </h2>
        <figure>
        </figure>
        <pre>const simpleChart = {
                rectHeight: 25
            };
            d3.select("#simple-chart").select("figure")
                .append("svg")
                .attr("width", "100%")
                .attr("height", 120)
                .selectAll("rect")
                .data([250, 210, 170, 130, 90])
                .enter()
                .append("rect")
                .attr("x", 20)
                .attr("y", (d, i) => i * simpleChart.rectHeight)
                .attr("width", d => d)
                .attr("height", simpleChart.rectHeight - 2)
                .attr("fill", "steelblue");</pre>
    </section>
    <section id="scale">
        <h2>
            <a class="title" href="#scale">#Scale</a>
        </h2>
        <figure>
        </figure>
        <pre>const scale = {}
                scale.dataset = [1.2, 2.3, 0.9, 1.5, 3.3];
                scale.min = d3.min(scale.dataset);
                scale.max = d3.max(scale.dataset);
                scale.rectHeight = 25;
                scale.linear = d3.scaleLinear()
                    .domain([scale.min, scale.max])
                    .range([0, 300]);
                
                d3.select("#scale").select("figure")
                    .append("svg")
                    .attr("width", "100%")
                    .attr("height", 120)
                    .selectAll("rect")
                    .data(scale.dataset)
                    .enter()
                    .append("rect")
                    .attr("x", 20)
                    .attr("y", (d, i) => i * scale.rectHeight)
                    .attr("width", d => scale.linear(d))
                    .attr("height", scale.rectHeight - 2)
                    .attr("fill", "orange");</pre>
    </section>
    <section id="axis">
        <h2>
            <a class="title" href="#axis">#Axis</a>
        </h2>
        <figure>
        </figure>
        <pre>const axis = {};
                axis.dataset = [2.5, 2.1, 1.7, 1.3, 0.9];
                axis.rectHeight = 25;
                axis.linear = d3.scaleLinear()
                    .domain([0, d3.max(axis.dataset)])
                    .range([0, 300]);
                axis.axis = d3.axisBottom(axis.linear);
                axis.svg = d3.select("#axis").select("figure")
                    .append("svg");
                
                axis.svg.attr("width", "100%")
                    .attr("height", 200)
                    .selectAll("rect")
                    .data(axis.dataset)
                    .enter()
                    .append("rect")
                    .attr("x", 20)
                    .attr("y", (d, i) => i * axis.rectHeight + 20)
                    .attr("width", d => axis.linear(d))
                    .attr("height", axis.rectHeight - 2)
                    .attr("fill", "orange");
                
                axis.svg.append("g")
                    .attr("transform", "translate(20,150)")
                    .call(axis.axis);</pre>
    </section>
    <script src="../dist/index.bundle.js"></script>
</body>

</html>